<md-card class="login-card" *ngIf="!succesfullyLoggedIn">

    <md-card-header>
        <md-card-title>
            <h3>Login</h3>
        </md-card-title>
    </md-card-header>
    <form name="Login" novalidate #loginForm="ngForm">
        <md-card-content>
            <md-input-container class="login-full-width">
                <input mdInput placeholder="Email" autofocus [(ngModel)]="email" id="email" name="email" required pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">

                <md-hint class="danger" *ngIf="email.errors && (email.dirty || email.touched)" class="error">
                    <span [hidden]="!email.errors.required">Please enter Email-Id.</span>
                    <span [hidden]="!email.errors.pattern">Please enter valid Email-Id pattern</span>
                </md-hint>
            </md-input-container>

            <md-input-container class="login-full-width">
                <input mdInput placeholder="Password" id="password" [(ngModel)]="password" name="password" type="password" required>
                <md-hint class="danger" *ngIf="password.errors && (password.dirty || password.touched)" class="error">
                    <span [hidden]="!password.errors.required">Please enter password.</span>

                </md-hint>

            </md-input-container>
            <div class="rem-check">
                <md-checkbox class="example-margin">Remember Me</md-checkbox>
            </div>
        </md-card-content>
        <md-card-actions>
            <md-list>
                <md-list-item>
                    <button md-raised-button type="submit" color="primary" id="login" (click)="login()" [disabled]="!loginForm.form.valid">Login</button>
                    <button routerLink='signup' md-raised-button color="primary">Sign Up</button>
                    <!-- <div id="{{googleLoginButtonId}}">google</div> -->
                    <button *ngIf="!token" id="google-login-button" class="btn btn-primary" (click)="googleAuthenticate()">Google Sign-In</button>
                </md-list-item>
                <md-list-item>
                    <a href="#/forgotpassword" id="forgotpassword">Forgot Password</a>
                </md-list-item>
            </md-list>
        </md-card-actions>
    </form>
</md-card>







<md-card class="login-card" *ngIf="succesfullyLoggedIn">
    <md-card-header>
        <md-card-title>
            <h3>Multi Factor Authentication</h3>
        </md-card-title>
    </md-card-header>
    <form name="Login" novalidate #resendOtp="ngForm">

        <md-card-content>
            <h5 class="danger">Note:OTP has been sent to the registered email :</h5>{{userEmail}}
            <md-input-container class="login-full-width">
                <input mdInput placeholder="OTP" type="password" name="password" id="otp" [(ngModel)]="otp" required>
                <md-hint class="danger" *ngIf="password.errors && (password.dirty || password.touched)" class="error">
                    <span [hidden]="!password.errors.required">Please enter Otp.</span>

                </md-hint>
            </md-input-container>
        </md-card-content>
        <md-card-actions>
            <md-list>
                <md-list-item>
                    <button md-raised-button color="primary" (click)="verifyOTP()" id="verifyOTP" [disabled]="!resendOtp.form.valid">Submit OTP</button>

                    <button md-raised-button color="primary" id="cancel" (click)="cancel()">Cancel</button>
                    <button *ngIf="resendotp" md-raised-button class="btn-success" id="resend" (click)="resend()">Resend OTP</button>

                </md-list-item>
            </md-list>
        </md-card-actions>
    </form>
</md-card>